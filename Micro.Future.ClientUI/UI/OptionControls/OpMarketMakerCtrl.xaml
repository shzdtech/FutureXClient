<UserControl x:Class="Micro.Future.UI.OpMarketMakerCtrl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Micro.Future.UI"
             xmlns:lex="http://wpflocalizeextension.codeplex.com" 
             lex:LocalizeDictionary.DesignCulture="zh_CN"
             lex:LocalizeDictionary.OutputMissingKeys="True"
             lex:ResxLocalizationProvider.DefaultAssembly="Micro.Future.Resources.Localization"
             lex:ResxLocalizationProvider.DefaultDictionary="Resources"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto"/>
        </Grid.ColumnDefinitions>

        <WrapPanel Grid.Row="0">
            <Label Content="种类"></Label>
            <ComboBox Name="underlyingCB" SelectedIndex="0" Width="auto" VerticalAlignment="Center" SelectionChanged="underlyingCB_SelectionChanged"/>
            <Label Content="产品"></Label>
            <ComboBox Name="underlyingContractCB" SelectedIndex="0" Width="auto" VerticalAlignment="Center" SelectionChanged="underlyingContractCB_SelectionChanged"/>
            <Label Content="Strike Number"></Label>
            <TextBox x:Name="textBox" Height="23" TextWrapping="Wrap"  Width="40"/>
        </WrapPanel>

        <ListView x:Name="option_priceLV" Grid.Row="1" Grid.Column="0" BorderThickness="0,0,0,0">
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.View>
                <GridView x:Name="option_priceGV"  ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto" >
                    <GridViewColumn x:Name="columnEnable1">
                        <GridViewColumn.Header>
                            <TextBlock Text="PBidQT启用">
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>
                            </TextBlock>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding PutStrategyVM.BidEnabled}" Command="{Binding PutStrategyVM.UpdateCommand}"></CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="columnEnable2">
                        <GridViewColumn.Header>
                            <TextBlock Text="PAskQT启用">
                                <TextBlock.Background >
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>
                            </TextBlock>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding PutStrategyVM.AskEnabled}" Command="{Binding PutStrategyVM.UpdateCommand}"></CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PAskQT" DisplayMemberBinding="{Binding Binding PutStrategyVM.Enabled}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PAskQT</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PBidIV" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.BidVol}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PBidIV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PAskIV" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.AskVol}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PAskIV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PBidTheo" DisplayMemberBinding="{Binding PutOptionVM.TheoDataVM.BidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PBidTheo</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PAskTheo" DisplayMemberBinding="{Binding PutOptionVM.TheoDataVM.AskPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PAskTheo</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PMidIV" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.MidVol}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PMidIV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PBidQV" DisplayMemberBinding="{Binding PutStrategyVM.Quantity}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PBidQV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PAskQV" DisplayMemberBinding="{Binding PutStrategyVM.Quantity}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PAskQV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PTheta" DisplayMemberBinding="{Binding PutOptionVM.TheoDataVM.Theta}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PTheta</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PGamma" DisplayMemberBinding="{Binding PutOptionVM.TheoDataVM.Gamma}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PGamma</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PVega" DisplayMemberBinding="{Binding PutOptionVM.TheoDataVM.Vega}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PVega</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PDelta" DisplayMemberBinding="{Binding PutOptionVM.TheoDataVM.Delta}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PDelta</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PBid" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.BidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PBid</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PBidSize" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.BidSize}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PBidSize</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PMid" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.MidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PMid</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PAsk" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.AskPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PAsk</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PAskSize" DisplayMemberBinding="{Binding PutOptionVM.MarketDataVM.AskSize}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InactiveCaptionColorKey}}"/>
                                </TextBlock.Background>PAskSize</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="Strike">
                        <GridViewColumn.Header>
                            <Grid>
                                <TextBlock>
                                    <TextBlock.Background>
                                        <SolidColorBrush Color="LightGray"/>
                                    </TextBlock.Background>Strike</TextBlock>
                            </Grid>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Grid Background="LightGray">
                                    <TextBlock Text="{Binding StrikePrice}"/>
                                </Grid>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CAskSize" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.AskSize}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CAskSize</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CAsk" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.AskPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CAsk</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CMid" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.MidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CMid</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CBidSize" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.BidSize}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CBidSize</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CBid" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.BidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CBid</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CDelta" DisplayMemberBinding="{Binding CallOptionVM.TheoDataVM.Delta}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CDelta</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CVega" DisplayMemberBinding="{Binding CallOptionVM.TheoDataVM.Vega}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CVega</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CBidIV" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.BidVol}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CBidIV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CAskIV" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.AskVol}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CAskIV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CBidTheo" DisplayMemberBinding="{Binding CallOptionVM.TheoDataVM.BidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CBidTheo</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CAskTheo" DisplayMemberBinding="{Binding CallOptionVM.TheoDataVM.AskPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CAskTheo</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CMidIV" DisplayMemberBinding="{Binding CallOptionVM.MarketDataVM.MidPrice}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CMidIV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CAskQV" DisplayMemberBinding="{Binding CallStrategyVM.Quantity}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CAskQV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CBidQV" DisplayMemberBinding="{Binding CallStrategyVM.Quantity}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CBidQV</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CTheta" DisplayMemberBinding="{Binding CallOptionVM.TheoDataVM.Theta}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CTheta</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="CGamma" DisplayMemberBinding="{Binding CallOptionVM.TheoDataVM.Gamma}">
                        <GridViewColumn.Header>
                            <TextBlock>
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>CGamma</TextBlock>
                        </GridViewColumn.Header>
                    </GridViewColumn>
                    <GridViewColumn x:Name="columnEnable3">
                        <GridViewColumn.Header>
                            <TextBlock Text="CBidQT启用">
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>
                            </TextBlock>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox>
                                    <CheckBox IsChecked="{Binding CallStrategyVM.BidEnabled}" Command="{Binding PutStrategyVM.UpdateCommand}"></CheckBox>
                                </CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="columnEnable4">
                        <GridViewColumn.Header>
                            <TextBlock Text="CAskQT启用">
                                <TextBlock.Background>
                                    <SolidColorBrush Color="#FFC55B5B"/>
                                </TextBlock.Background>
                            </TextBlock>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox>
                                    <CheckBox IsChecked="{Binding CallStrategyVM.AskEnabled}" Command="{Binding PutStrategyVM.UpdateCommand}"></CheckBox>
                                </CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="PPosition" Header="PPosition" DisplayMemberBinding="{Binding PutPositionVM.Position}"/>
                    <GridViewColumn x:Name="CPosition" Header="CPosition" DisplayMemberBinding="{Binding CallPositionVM.Position}"/>
                </GridView>
            </ListView.View>
            <ListView.ContextMenu>
                <ContextMenu Name="OptionContextMenu" StaysOpen="True">
                    <MenuItem Header="{lex:Loc Key=ColumnSettings}" Click="MenuItem_Click_OptionColumns" />
                    <Separator />
                </ContextMenu>
            </ListView.ContextMenu>
        </ListView>

    </Grid>
</UserControl>
